# 기능 요구 사항
## 목차

1. [핵심 기능](#핵심-기능)
2. [진행](#진행)
3. [필요 객체들](#필요-객체들)
4. [입력 요구 사항](#입력-요구-사항)
    - [나타날 수 있는 예외](#나타날-수-있는-예외)
5. [출력 요구 사항](#출력-요구-사항)
6. [느낀점](#느낀점)

---

## 핵심 기능

- 랜덤으로 크루들의 이름을 섞어 이미 페어로 만난 적이 있는 크루끼리 매칭이 되지 않도록 매칭하여 출력한다.


---

## 진행

1. 기능을 선택한다.
   - 페어 매칭/페어 조회/페어 초기화/종료를 할 수 있다.
2. 페어 매칭 과정 
   - 등록되어있는 과정과 미션을 출력한다. 
   - 매칭하고자 하는 과정, 레벨, 미션을 입력 받는다.(입력 포맷: "과정, 레벨, 미션")
   - 매칭 결과 출력
      - 정상: 매칭된 페어들을 나열한다.(출력 포맷: "이름1 : 이름2")
      - 비정상: 에러 메시지 출력([ERROR] 매칭 할 수 없습니다.)
3. 페어 조회 과정
   - 이전에 페어 매칭 했던 과정을 출력한다.
   - 페어 매칭 결과를 낸 적이 없다면 에러메시지 출력한다.
4. 페어 초기화
   - 이전에 했던 페어 매칭을 취소한다.
5. 종료
4. 한 가지의 기능을 완료했다면 1번으로 돌아간다.


## 필요 객체들

### 페어 매칭 기능
- 페어 매칭 조건
```
- 미션을 함께 수행할 페어를 두명씩 매칭한다.
- 페어 매칭 대상이 홀수인 경우 한 페어는 3인으로 구성한다.
- 같은 레벨에서 이미 페어를 맺은 크루와는 다시 페어로 매칭될 수 없다.
```

- 페어 매칭 구현 방법
```
- 크루들의 이름 목록을 List<String> 형태로 준비한다.
- 크루 목록의 순서를 랜덤으로 섞는다. 이 때 `camp.nextstep.edu.missionutils.Randoms`의 shuffle 메서드를 활용해야 한다.
- 랜덤으로 섞인 페어 목록에서 페어 매칭을 할 때 앞에서부터 순서대로 두명씩 페어를 맺는다.
- 홀수인 경우 마지막 남은 크루는 마지막 페어에 포함시킨다.
- 같은 레벨에서 이미 페어로 만난적이 있는 크루끼리 다시 페어로 매칭 된다면 크루 목록의 순서를 다시 랜덤으로 섞어서 매칭을 시도한다.
- 3회 시도까지 매칭이 되지 않거나 매칭을 할 수 있는 경우의 수가 없으면 에러 메시지를 출력한다.
```
- 코드 예시
```java
List<String> crewNames; // 파일에서 로드한 크루 이름 목록
List<String> shuffledCrew = Randoms.shuffle(crewNames); // 섞인 크루 이름 목록

// 페어 매칭 & 검증
```

- 페어 재매칭 시도
```
- 안내 문구를 출력 후 매칭을 진행한다.
- 아니오를 선택할 경우 코스, 레벨, 미션을 다시 선택한다.
```

### 페어 조회 기능
- 과정, 레벨, 미션을 선택하면 해당 미션의 페어 정보를 출력한다.
- 매칭 이력이 없으면 매칭 이력이 없다고 안내한다.(에러메시지)

### 과정, 레벨, 미션 정보는 아래와 같다.
```
## 과정
- 백엔드
- 프론트엔드

## 레벨
- 레벨1
- 레벨2
- 레벨3
- 레벨4
- 레벨5

## 미션
### 레벨1
- 자동차경주
- 로또
- 숫자야구게임

### 레벨2
- 장바구니
- 결제
- 지하철노선도

### 레벨3(없음)

### 레벨4
- 성능개선
- 배포

### 레벨5 (없음)
```



---

# 입력 요구 사항

- 페어 매칭에 필요한 크루들의 이름은 제시된 파일을 사용하여 파일 입출력 기능을 사용하여 진행되어야 한다.
- 프로그램의 어떤 기능을 사용할 것인지 입력 받는다.
- 페어 매칭시 과정, 레벨, 미션의 종류를 입력 받는다.
    - 입력 포맷은 다음과 같다.
      - ```과정, 레벨, 미션```
      - 예시
      - ```백엔드, 레벨1, 자동차경주```
      - ```프론트엔드, 레벨1, 자동차경주```
- 다시 페어 매칭을 시도할 때 다시 매칭 할 것인지 확인한다.(네/아니오)

## 나타날 수 있는 예외

1. 매칭 결과를 낼 수 없다면 다음과 같은 에러 메시지를 출력한다.
   ```[ERROR] 매칭 할 수 없습니다.```

2. 페어 조회 기능을 사용하며 매칭 이력이 없다면 다음과 같은 에러 메시지를 출력한다.
   ```[ERROR] 매칭 이력이 없습니다.```


---

# 출력 요구 사항

- 프로그램이 할 수 있는 기능 출력
- 과정과 미션 정보 출력
- 페어 매칭 결과 출력

- 프로그래밍 결과 예시
```
기능을 선택하세요.
1. 페어 매칭
2. 페어 조회
3. 페어 초기화
Q. 종료
1

#############################################
과정: 백엔드 | 프론트엔드
미션:
  - 레벨1: 자동차경주 | 로또 | 숫자야구게임
  - 레벨2: 장바구니 | 결제 | 지하철노선도
  - 레벨3: 
  - 레벨4: 성능개선 | 배포
  - 레벨5: 
############################################
과정, 레벨, 미션을 선택하세요.
ex) 백엔드, 레벨1, 자동차경주
프론트엔드, 레벨1, 자동차경주

페어 매칭 결과입니다.
다비 : 신디
쉐리 : 덴버
제키 : 로드
라라 : 윌터
니콜 : 이브
린다 : 시저
보노 : 제시 : 제키

기능을 선택하세요.
1. 페어 매칭
2. 페어 조회
3. 페어 초기화
Q. 종료
1

#############################################
과정: 백엔드 | 프론트엔드
미션:
  - 레벨1: 자동차경주 | 로또 | 숫자야구게임
  - 레벨2: 장바구니 | 결제 | 지하철노선도
  - 레벨3: 
  - 레벨4: 성능개선 | 배포
  - 레벨5: 
############################################
과정, 레벨, 미션을 선택하세요.
ex) 백엔드, 레벨1, 자동차경주
프론트엔드, 레벨1, 자동차경주

매칭 정보가 있습니다. 다시 매칭하시겠습니까?
네 | 아니오
아니오

과정, 레벨, 미션을 선택하세요.
ex) 백엔드, 레벨1, 자동차경주
프론트엔드, 레벨1, 자동차경주
매칭 정보가 있습니다. 다시 매칭하시겠습니까?
네 | 아니오
네

페어 매칭 결과입니다.
이브 : 윌터
보노 : 제키
신디 : 로드
제시 : 린다
시저 : 라라
니콜 : 다비
리사 : 덴버 : 제키

기능을 선택하세요.
1. 페어 매칭
2. 페어 조회
3. 페어 초기화
Q. 종료
2

#############################################
과정: 백엔드 | 프론트엔드
미션:
  - 레벨1: 자동차경주 | 로또 | 숫자야구게임
  - 레벨2: 장바구니 | 결제 | 지하철노선도
  - 레벨3: 
  - 레벨4: 성능개선 | 배포
  - 레벨5: 
############################################
과정, 레벨, 미션을 선택하세요.
ex) 백엔드, 레벨1, 자동차경주
프론트엔드, 레벨1, 자동차경주

페어 매칭 결과입니다.
이브 : 윌터
보노 : 제키
신디 : 로드
제시 : 린다
시저 : 라라
니콜 : 다비
리사 : 덴버 : 제키

기능을 선택하세요.
1. 페어 매칭
2. 페어 조회
3. 페어 초기화
Q. 종료
3

초기화 되었습니다. 

기능을 선택하세요.
1. 페어 매칭
2. 페어 조회
3. 페어 초기화
Q. 종료
Q
```

---

## 느낀점
```
요즘 연습을 많이 못하고 있는데 때문에 까먹은 부분이 많이 보인다.
차라리 빠른 일처리를 하고 후에 몰아서 공부하는 것이 나을 것 같기도 하다.
여러 예외처리는 하지 못했는데, 기능 요구사항 중 메인 기능인
- 같은 레벨의 경우 다음 매치 때 같은 사람과 매치 되면 안됨
- 이와 관련하여 3번 이상 매칭 시도나 매칭 불가능 하다면 예외
를 구현하지 못했다.
또한 그 외 입출력 포맷을 맞추어 예외 처리를 한다거나,
신경 써야할 부분인 레벨 - 미션이 한 세트인데, 이를 서로 다르게 입력하여도
올바른 입력으로 처리된다는 점이다.

예외 처리를 할 때 핸들러를 사용하는 부분은 못 익혀 다음에는 써보고 싶다.

구현하면서 생각하지 못했던 부분이나 놓친 부분 때문에 클래스 구조가 바뀌어야 하는 부분이 꽤 있어서
처음 시작할 때 좀 더 신경 써야할 것 같다.
```

